#01. Cree una carpeta en el escritorio (eg. Prueba 1), cree un proyecto e importen la base de datos de la
#Encuesta de Monitoreo de Indicadores Sociales del Proyecto Hidroeléctrico Alto Maipo (PHAM)
#detallando la ruta desde el punto de partida del proyecto y asignandola a Alto Maipo
#recuerden que dicha base es un fragmento de la encuesta sobre los indicadores sociales del PHAM
#Recuerde cargar los paquetes necesarios
pacman::p_load(tidyverse)
pham<-read_excel(file = "fuente/ALTO MAIPO.xlsx") #recuerde asignar a un objeto
#01. Cree una carpeta en el escritorio (eg. Prueba 1), cree un proyecto e importen la base de datos de la
#Encuesta de Monitoreo de Indicadores Sociales del Proyecto Hidroeléctrico Alto Maipo (PHAM)
#detallando la ruta desde el punto de partida del proyecto y asignandola a Alto Maipo
#recuerden que dicha base es un fragmento de la encuesta sobre los indicadores sociales del PHAM
#Recuerde cargar los paquetes necesarios
pacman::p_load(tidyverse,openxls)
?read_excel
#01. Cree una carpeta en el escritorio (eg. Prueba 1), cree un proyecto e importen la base de datos de la
#Encuesta de Monitoreo de Indicadores Sociales del Proyecto Hidroeléctrico Alto Maipo (PHAM)
#detallando la ruta desde el punto de partida del proyecto y asignandola a Alto Maipo
#recuerden que dicha base es un fragmento de la encuesta sobre los indicadores sociales del PHAM
#Recuerde cargar los paquetes necesarios
pacman::p_load(tidyverse, readxl)
pham<-read_excel(file = "fuente/ALTO MAIPO.xlsx") #recuerde asignar a un objeto
pham<-read_excel("fuente/ALTO MAIPO.xlsx") #recuerde asignar a un objeto
View(pham)
View(pham)
pham <- pham %>% dplyr::rename( anios_comuna = hace_cuantos_anos_vive_en_esta_comuna_enc_anotar_cantidad_de_anos_si_es_menos_de_un_ano_anotar_0,
propiedad_vivienda = la_vivienda_que_usted_ocupa_es_enc_leer_alternativas,
sistema_salud = a_que_sistema_de_salud_pertenece_su_familia_enc_leer_alternativas_y_responder_todas_las_que_correspondan,
pago_vivienda = cual_es_el_valor_que_paga_mensualmente,
ocupacion_jefe_hogar = cual_es_la_ocupacion_principal_del_jefe_de_hogar_enc_respuesta_espontanea_clasificar_en_una_de_las_siguientes_categorias,
servicio_salud = cuando_usted_o_algun_familiar_necesita_atencion_de_salud_adonde_acude_principalmente_enc_leer_alternativas_y_responder_una,
calidad_atencion = ha_cambiado_la_calidad_de_la_atencion_en_los_ultimos_seis_meses,
cambio_atencion = si_nota_un_cambio_como_ha_cambiado_en_enc_leer_cada_tipo_de_cambio_y_anotar_1_si_2_no_todos_los_tipos_de_cambios_deben_quedar_con_una_respuesta_anotada,
ocurrencia_incidentes= en_los_ultimos_seis_meses_han_ocurrido_incidentes_que_alteren_el_orden_publico_en_la_localidad_donde_vive_enc_leer_alternativas_y_responder_una,
beneficios_aes_gener = la_presencia_de_aes_gener_en_la_comuna_le_ha_traido_beneficios_a_usted_o_a_su_familia_enc_leer_cada_tipo_de_beneficio_todos_los_tipos_de_beneficios_deben_quedar_con_una_respuesta_anotada,
mecanismo_produccion = usted_conoce_el_mecanismo_por_el_cual_opera_la_produccion_de_electricidad_en_la_central_hidroelectrica_alto_maipo,
nombre_mecanismo = solo_si_conoce_el_mecanismo_me_podria_indicar_cual_es_el_mecanismo_que_se_utiliza,
diferencia_caudal = desde_el_inicio_de_las_actividades_de_alto_maipo_ha_notado_diferencias_en_el_nivel_del_caudal_del_rio_enc_leer_cada_uno_de_los_ambitos_elegir_una_alternativa)
View(pham)
#Elimine la primera fila de la base de datos
pham <- pham[-1,]
#limpieza inicial----
library(janitor)
pham <- janitor::clean_names(pham) #transforma todo a minúscula, sin tildes, ni signos, ni espacios
pham <- pham %>% dplyr::rename( anios_comuna = hace_cuantos_anos_vive_en_esta_comuna_enc_anotar_cantidad_de_anos_si_es_menos_de_un_ano_anotar_0,
propiedad_vivienda = la_vivienda_que_usted_ocupa_es_enc_leer_alternativas,
sistema_salud = a_que_sistema_de_salud_pertenece_su_familia_enc_leer_alternativas_y_responder_todas_las_que_correspondan,
pago_vivienda = cual_es_el_valor_que_paga_mensualmente,
ocupacion_jefe_hogar = cual_es_la_ocupacion_principal_del_jefe_de_hogar_enc_respuesta_espontanea_clasificar_en_una_de_las_siguientes_categorias,
servicio_salud = cuando_usted_o_algun_familiar_necesita_atencion_de_salud_adonde_acude_principalmente_enc_leer_alternativas_y_responder_una,
calidad_atencion = ha_cambiado_la_calidad_de_la_atencion_en_los_ultimos_seis_meses,
cambio_atencion = si_nota_un_cambio_como_ha_cambiado_en_enc_leer_cada_tipo_de_cambio_y_anotar_1_si_2_no_todos_los_tipos_de_cambios_deben_quedar_con_una_respuesta_anotada,
ocurrencia_incidentes= en_los_ultimos_seis_meses_han_ocurrido_incidentes_que_alteren_el_orden_publico_en_la_localidad_donde_vive_enc_leer_alternativas_y_responder_una,
beneficios_aes_gener = la_presencia_de_aes_gener_en_la_comuna_le_ha_traido_beneficios_a_usted_o_a_su_familia_enc_leer_cada_tipo_de_beneficio_todos_los_tipos_de_beneficios_deben_quedar_con_una_respuesta_anotada,
mecanismo_produccion = usted_conoce_el_mecanismo_por_el_cual_opera_la_produccion_de_electricidad_en_la_central_hidroelectrica_alto_maipo,
nombre_mecanismo = solo_si_conoce_el_mecanismo_me_podria_indicar_cual_es_el_mecanismo_que_se_utiliza,
diferencia_caudal = desde_el_inicio_de_las_actividades_de_alto_maipo_ha_notado_diferencias_en_el_nivel_del_caudal_del_rio_enc_leer_cada_uno_de_los_ambitos_elegir_una_alternativa)
names(pham)
unique(pham$temporalidad_traslado)
#04. Tome esa misma base (ALTO MAIPO) y con el método de acceso de corchetes [] conserve  los primeros 200 casos/filas
#guardela en pham_200 (1 pto)
pham_200 <- pham [ 1:200,] #debe rellenar el siguiente código
unique(pham_200$temporalidad_traslado)
pham_200 <- pham_200 %>%
mutate(temporalidad_traslado = case_when(
temporalidad_traslado %in% c("1", "6", "1 dia", "1 día", "diaria", "Diaria",
"Diaria diaria", "Diaria semanal", "Diariamente",
"Diario", "7 días", "Todos los dias") ~ "1. Diaria",
temporalidad_traslado %in% c("1 vez a la semana", "1 vez por semana", "Fin de semana",
"Turno semanal", "3 veces al mes") ~ "2. Una vez por semana",
temporalidad_traslado %in% c("3", "2 a 3 veces de la semana", "2 a 3 veces por semana",
"2 dias", "2 o 3 veces por semana", "2 o más veces a la semana",
"2 veces a la semana", "2 veces o más por semana",
"2 veces por semana", "3 dias", "3 días", "3 Por semana",
"3 veces a la semana", "3 veces por semana", "4 dias",
"5 a 6 dias", "5 dias", "5 días", "6 dias", "6 días",
"Dos veces por semana", "Más de 2 veces por semana",
"Más de 2 veces x semana") ~ "3. Más de dos veces por semana",
temporalidad_traslado %in% c("4", "2 veces al mes", "3° turno", "cada 15 dias",
"Cada 15 dias", "cada 15 días", "Cada 15 días",
"Más de 1 vez al mes", "Más de una vez al mes",
"Turnos 10x10", "Turnos 20x10") ~ "4. Cada 15 días",
temporalidad_traslado %in% c("1 vez al mes", "1 vez mes", "1 vez x mes",
"1:vez al mes", "Una vez al mes") ~ "5. Una vez al mes",
TRUE ~ temporalidad_traslado
))
unique(pham_200$temporalidad_traslado)
table(pham_200$temporalidad_traslado)
pham_200 <- pham_200 %>%
mutate(temporalidad_traslado = case_when(
temporalidad_traslado %in% c("1", "6", "1 dia", "1 día", "diaria", "Diaria",
"Diaria diaria", "Diaria semanal", "Diariamente",
"Diario", "7 días", "Todos los dias") ~ "1. Diaria",
temporalidad_traslado %in% c("2","1 vez a la semana", "1 vez por semana", "Fin de semana",
"Turno semanal", "3 veces al mes") ~ "2. Una vez por semana",
temporalidad_traslado %in% c("Turnos 3er turno","Turno  1x3","3", "2 a 3 veces de la semana", "2 a 3 veces por semana",
"2 dias", "2 o 3 veces por semana", "2 o más veces a la semana",
"2 veces a la semana", "2 veces o más por semana",
"2 veces por semana", "3 dias", "3 días", "3 Por semana",
"3 veces a la semana", "3 veces por semana", "4 dias",
"5 a 6 dias", "5 dias", "5 días", "6 dias", "6 días",
"Dos veces por semana", "Más de 2 veces por semana",
"Más de 2 veces x semana") ~ "3. Más de dos veces por semana",
temporalidad_traslado %in% c("4", "2 veces al mes", "3° turno", "cada 15 dias",
"Cada 15 dias", "cada 15 días", "Cada 15 días",
"Más de 1 vez al mes", "Más de una vez al mes",
"Turnos 10x10", "Turnos 20x10") ~ "4. Cada 15 días",
temporalidad_traslado %in% c("1 vez al mes", "1 vez mes", "1 vez x mes",
"1:vez al mes", "Una vez al mes") ~ "5. Una vez al mes",
TRUE ~ temporalidad_traslado
))
table(pham_200$temporalidad_traslado)
unique(pham_200$lugar_traslado)
pham_200 <- pham_200 %>%
mutate(
lugar_traslado = case_when(
lugar_traslado %in% c("1", "Canelo", "El canelo", "El ingenio", "El Ingenio", "El melocoton", "El tuyo",
"En la localidad ", "En la misma localidad", "Localidad donde vive", "Maitenes", "Manzano",
"Misma localidad", "Misma localidad donde vive", "Misma loclidad", "Romeral", "Volcan",
"Hacia otra localidad", "Lo valdes", "Los maitenes", "Los valdes", "Melocotón",
"otra localidad", "Otra localidad", "San alfonso", "San gabril", "San Gabriel",
"San jise de maipo", "San José d maipo", "San jose de maipo", "San José de maipo",
"San José de Maipo", "San jose de maipo ( hopsital)", "San jose de maipo ( la ennec )",
"San jose de maipo (entre localidades )", "San jose de maipo (hospital)",
"San jose de maipo 4 sur", "San jose de maipo, puente alto", "San jose de maipo, stgo",
"Vertientes", "1 - Lugar") ~ "1. En la localidad donde vive",
lugar_traslado %in% c("2", "Dentro de la comuna", "El canelo", "El ingenio", "El melocoton", "El tuyo",
"fuera de la localidad", "Fuera de la localidad", "Guayacan", "Lo valdes", "Los maitenes",
"Los valdes", "Maitenes", "Manzano", "Melocotón", "Queltehue", "Vertientes") ~ "2. Hacia otra localidad",
lugar_traslado %in% c("3", "Hospital san jose de maipo", "Jardín infantil san jose de maipo", "San José centro",
"San jose de maipo", "San José de maipo", "San José de Maipo", "San jose de maipo ( hopsital)",
"San jose de maipo centro", "San jose de maipo municipio", "San jose de maipo, puente alto stgo",
"San jose de maipo, santiago", "San jose de maipo, stgo") ~ "3. Al centro de San José de Maipo ",
lugar_traslado %in% c("4", "Colina", "Fuera  de la comuna", "Fuera de la común", "fuera de la comuna", "Fuera de la comuna",
"Hacia otra comuna", "Las condes", "Las vizcachaz", "Lo espejo", "Otra comuna",
"Otra comuna de la región metropolitana", "Otra conuna", "Otras comunas", "Pte alto",
"Pte alto, stgo, san jose de maipo", "Puente alto", "Puente alto, san jose de maipo",
"San joaquin", "San Tiago centro", "Santiago", "Santiago centro", "Vicuña makena", "Vitacura") ~ "4. Hacia otra comuna",
lugar_traslado %in% c("5", "Calama", "Hacia otra region", "Norte (calama)", "Otra region", "Otra región", "Rancagua") ~ "5. Hacia otra región",
TRUE ~ lugar_traslado
)
)
unique(pham_200$lugar_traslado)
unique(pham$sistema_salud)
table(pham$sistema_salud)
table(pham_200$sistema_salud)
View(pham_200)
View(pham_200)
table(pham_200$principales_traslados)
unique(pham_200$principales_traslados)
unique(pham_200$principales_traslados)
pham_200 <- pham_200 %>%
mutate(principales_traslados = case_when(
principales_traslados %in% c("Tabajo", "1", "Teabajo", "Trababo", "trabajo", "Trabajo",
"Trabajo/ medico", "Trabao") ~ "Trabajo",
principales_traslados %in% c("2", "Estudiar", "Estudio", "Estudios") ~ "Estudios",
principales_traslados %in% c("3", "Comprar, trámites", "Compras", "Compras tramites",
"Compras tramites (es cuidador)", "Compras, trámites", "Teamite",
"Teamites", "Tramite", "Trámite", "Tramites", "Trámites",
"Tramites compras", "Tramites, compras", "Tramites, compras (trabajo desde casa)") ~ "Compras o trámites",
principales_traslados %in% c("4", "Servicios") ~ "Servicios",
principales_traslados %in% c("5", "No se traslada ( trabajo en casa)",
"No se traslada (solo control medico)", "No se traslada solo controles médicos") ~ "No se traslada",
TRUE ~ principales_traslados # Para mantener cualquier categoría no especificada tal como está
))
unique(pham_200$principales_traslados)
table(pham_200$principales_traslados)
2024-1966
EDAD <- c(32,31,3,58)
EDAD[3]<- 30
BASE_DATOS <- data.frame(EDAD, NOMBRE, parentesco, deporte)
#0.2 Crear 3 vectores (llamarlos NOMBRE, parentesco, deporte) (3 pto)
NOMBRE <- c("Gino", "Mane", "Violeta", "Claudio")
parentesco <-c("Padre", "Madre", "Hija", "Abuelo")
deporte <-c("Kick boxing", "spinning", "cilismo", "futbol")
BASE_DATOS <- data.frame(EDAD, NOMBRE, parentesco, deporte)
View(BASE_DATOS)
