pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
View(base)
view(base)
view(base)
view(freq(base))
view(freq_base)
str(base)
View(base)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
base <- base %>% dplyr::rename(interes_participa = MA_02 En una escala del 1 al 10, ¿Qué tan interesado estaría en participar en actividades educativas que amplíen su conocimiento sobre gestión de residuos y problemas relacionados?,
base <- base %>% dplyr::rename(interes_participar = MA_02 En una escala del 1 al 10, ¿Qué tan interesado estaría en participar en actividades educativas que amplíen su conocimiento sobre gestión de residuos y problemas relacionados?,
base <- base %>% dplyr::rename(interes_participar = "MA_02 En una escala del 1 al 10, ¿Qué tan interesado estaría en participar en actividades educativas que amplíen su conocimiento sobre gestión de residuos y problemas relacionados?",
participacion_grupo = "MA_03 ¿Ha participado en algún grupo, organización o proyecto ecológicos relacionados con el cuidado y preservación del medio ambiente?",
participacion_evento = "MA_04 ¿Ha participado en eventos o actividades comunitarias relacionadas a la difusión de información con respecto a los problemas medioambientales dentro de los últimos tres meses meses? Tales como charlas, ferias ecológicas, talleres prácticos o campañas específicas?",
frecuencia_consumo_sostenible = "MA_05 ¿Con qué frecuencia adquiere productos sostenibles o amigables con el medio ambiente, teniendo en cuenta la reducción de residuos generados por sus envases? Ttales como botellas reciclables, productos a granel, empaques minimalistas o envases reciclables")
base <- base %>% dplyr::rename(interes_participar = ma_02,
participacion_grupo = ma_03,
participacion_evento = ma_04,
frecuencia_consumo_sostenible = ma_05)
view(base)
names(base)
base <- dplyr %>% rename(lugar_musica=cm_05)
base <- base %>% rename(lugar_musica=cm_05)
names(base)
table(base$lugar_musica)
freq(base$lugar_musica)
unique(base$lugar_musica)
respuestas <- strsplit(base$lugar_musica, ",")
unique(base$lugar_musica)
respuestas <- strsplit(base$lugar_musica, ",")
respuestas <- unlist (respuestas)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En el transporte público", "En el transporte público",  "·" ) #(1 pto)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En el transporte público", "En el transporte público",  "·" ) #(1 pto)
respuestas <- gsub(" En el transporte público", "En el transporte público",  "·" ) #(1 pto)
respuestas <- gsub(" En el transporte público", "En el transporte público",  respuestas ) #(1 pto)
respuestas <- gsub(" En el transporte público", "En el transporte público",  respuestas ) #(1 pto)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- unlist (respuestas)
respuestas <- strsplit(base$lugar_musica, ",")
respuestas <- unlist (respuestas)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En el transporte público", "En el transporte público",  respuestas ) #(1 pto)
respuestas <- gsub(" En otros lugares", "En otros lugares", respuestas ) #(1 pto)
# 03.7 vuelva a observar sus respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
gabriel_concha <-  freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
unique(re_02)
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
unique(base)
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
unique(base$re_02)
base <- base %>%  mutate(religion_rec= case_when(re_02 %in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"Espiritualidad sin afiliación religiosa",
re_02 %in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"Religión específica",
re_02 %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ") ~"Sin religión",
TRUE~re_02))
unique(base$religion_rec)
base <- base %>% mutate(to_01=case_when(to_01 %in% c("Bastante tiempo.", "Suficiente tiempo.")~"Tiempo disponible",
to_01 %in% c("No tengo tiempo.", "Poco tiempo.")~ "Tiempo limitado",
TRUE~to_01))
# Media (0.5 ptos)
media_notas <- mean(ea_04_notas_ultimo_semestre$y1, na.rm = TRUE)
# Media (0.5 ptos)
media_notas <- mean(ea_04_notas_ultimo_semestre, na.rm = TRUE)
# 06. Obtenga los siguientes estadísticos descriptivos de la variable "ea_04_notas_ultimo_semestre"
unique(base$ea_04_notas_ultimo_semestre)
# Media (0.5 ptos)
media_notas <- mean(ea_04_notas_ultimo_semestre, na.rm = TRUE)
# Media (0.5 ptos)
media_notas <- mean(ea_04_notas_ultimo_semestre$y1, na.rm = TRUE)
# Media (0.5 ptos)
media_notas <- mean(ea_04_notas_ultimo_semestre, na.rm = TRUE)
# 06. Obtenga los siguientes estadísticos descriptivos de la variable "ea_04_notas_ultimo_semestre"
unique(base$ea_04_notas_ultimo_semestre)
# Media (0.5 ptos)
media_notas <- mean(ea_04_notas_ultimo_semestre, na.rm = TRUE)
# 06. Obtenga los siguientes estadísticos descriptivos de la variable "ea_04_notas_ultimo_semestre"
unique(base$ea_04_notas_ultimo_semestre)
ea_04 <- unlist (ea_04_notas_ultimo_semestre)
# 06. Obtenga los siguientes estadísticos descriptivos de la variable "ea_04_notas_ultimo_semestre"
unique(base$ea_04_notas_ultimo_semestre)
# 06. Obtenga los siguientes estadísticos descriptivos de la variable "ea_04_notas_ultimo_semestre"
table(base$ea_04_notas_ultimo_semestre)
# Media (0.5 ptos)
media_notas <- mean(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
# Media (0.5 ptos)
media_notas <- mean(base$ea_04_notas_ultimo_semestre, na.rm = TRUE) #media de 5.691
view(media_notas)
unique(media_notas)
# desviación estándar (0.5 ptos)
sd_notas <- sd(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
unique(base$ea_04_notas_ultimo_semestre)
unique(ea_04_notas_ultimo_semestre)
unique(base$ea_04_notas_ultimo_semestre)
table(base$ea_04_notas_ultimo_semestre)
# desviación estándar (0.5 ptos)
sd_notas <- sd(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
unique(base$ea_04_notas_ultimo_semestre)
# 07. Grafique los cruces de la variable  "ea_04_notas_ultimo_semestre" con las siguientes variables:
ea_04_notas_ultimo_semestre <- base$ea_04_notas_ultimo_semestre
unique(ea_04_notas_ultimo_semestre)
table(base$religion_rec)
# 07.1 ea_04_notas_ultimo_semestre vs religion_rec (3 ptos)
religion_rec <- base$religion_rec
table(religion_rec)
ggplot(base, aes(x=ea_04_notas_ultimo_semestre, y=religion_rec, fill=ea_04_notas_ultimo_semestre)) +
geom_boxplot(alpha=0.3) +
labs(title = "Promedio de notas según tipo de religión",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "religion_rec",
fill = "religion_rec")+
theme(legend.position="none")
ggplot(base, aes(x=ea_04_notas_ultimo_semestre, y=base$to_01, fill=ea_04_notas_ultimo_semestre)) +
geom_boxplot(alpha=0.3) +
labs(title = "Notas último semestre según tiempo",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "base$to_01",
fill = "base$to_01")+
theme(legend.position="none")
ggplot(base, aes(x=ea_04_notas_ultimo_semestre, y=base$to_01, fill=ea_04_notas_ultimo_semestre)) +
geom_boxplot(alpha=0.3) +
labs(title = "Notas último semestre según tiempo",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "base$to_01",
fill = "tiempo de ocio")+
theme(legend.position="none")
ggplot(base, aes(x=ea_04_notas_ultimo_semestre, y=base$to_01, fill=ea_04_notas_ultimo_semestre)) +
geom_boxplot(alpha=0.3) +
labs(title = "Notas último semestre según tiempo",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "tiempo de ocio",
fill = "base$to_01")+
theme(legend.position="none")
ggplot(base, aes(x=ea_04_notas_ultimo_semestre, y=base$to_01, fill=ea_04_notas_ultimo_semestre)) +
geom_boxplot(alpha=0.3) +
labs(title = "Notas último semestre según tiempo",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "base$to_01",
fill = "base$to_01")+
theme(legend.position="none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "%")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "10")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "1")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "2")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "3")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "%3")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "2")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "3")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "0.3")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(gabriel_concha, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "3")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
# 00. Carga de Paquetes --------------------------------------------------------
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
str(base) #147 filas y  60 columnas
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
base <- base %>% dplyr::rename(interes_participar = ma_02,
participacion_grupo = ma_03,
participacion_evento = ma_04,
frecuencia_consumo_sostenible = ma_05)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
base <- base %>% rename(lugar_musica=cm_05)
names(base)
table(base$lugar_musica)
freq(base$lugar_musica)
unique(base$lugar_musica)
respuestas <- strsplit(base$lugar_musica, ",")
respuestas <- unlist (respuestas)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En el transporte público", "En el transporte público",  respuestas ) #(1 pto)
respuestas <- gsub(" En otros lugares", "En otros lugares", respuestas ) #(1 pto)
# 03.7 vuelva a observar sus respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
gabriel_concha <-  freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
