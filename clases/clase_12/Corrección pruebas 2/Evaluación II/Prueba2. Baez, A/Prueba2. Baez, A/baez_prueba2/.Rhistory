pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
base <- read.xlsx("base_antropologia_limpia.xlsx")
# 00. Carga de Paquetes --------------------------------------------------------
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
base <- read.xlsx("base_antropologia_limpia.xlsx")
base <- read.xlsx("base_antropologia_limpia.xlsx")
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
View(base)
147 filas 45414.80(base.xlsx)
45414.80(base.xlsx)
45414.80(base.xlsx) , 45414.87(base)
# 01.1 ¿cuántas filas y columnas tienen los datos? (0.5 ptos)
#(debe escribir código que entregue la información, no se aceptan respuestas sin código)
libro_codigos<- read.xlsx("base_antropologia_limpia.xlsx")
View(libro_codigos)
glimpse(base_antropologia)
glimpse(base)
names(base)
view(base)
view(base)
view(base)
View(base)
base <-janitor::clean_names(base)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
base<- base %>% dplyr::rename(tipo_creencia = re_01, tipo_creencia = re_01)
base<- base %>% dplyr::rename (afiliacion_creencia = re_02 , afiliacion_creencia = re_02)
base<- base %>% dplyr::rename (cuantas_veces = re_03 , cuantas_veces = re_03)
base<- base %>% dplyr::rename(asiste_si_no = re_04 , asiste_si_no = re_04)
base<- base %>% dplyr::rename(influencia_moral = re_05 , influencia_moral = re_05)
base <- base %>% dplyr::rename(lugar_musica = cm_05 , lugar_musica = cm_05)
# 03.2 observe las categorías de la variable lugar_musica, puede utilizar funciones como freq, table, unique, etc. (0.5 ptos)
unique(base$lugar_musica)
respuestas <- strsplit(base$lugar_musica)
respuestas <- str_split(base$lugar_musica , "En el transporte público, En otros lugares" , "En su casa o de familiares., En el transporte público, En el lugar de estudio" ,"En su casa o de familiares., En el transporte público, En el lugar de estudio, En otros lugares"
"En su casa o de familiares., En casa de amigos., En el lugar de estudio, En otros lugares", "En el transporte público" ,
(base$lugar_musica , "En el transporte público, En otros lugares" , "En su casa o de familiares., En el transporte público, En el lugar de estudio" ,"En su casa o de familiares., En el transporte público, En el lugar de estudio, En otros lugares"
respuestas <- str_split(base$lugar_musica , "En el transporte público, En otros lugares""En su casa o de familiares., En el transporte público, En el lugar de estudio" ,"En su casa o de familiares., En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos., En el lugar de estudio, En otros lugares", "En el transporte público" ,
respuestas <- str_split(base$lugar_musica , "En el transporte público, En otros lugares""En su casa o de familiares., En el transporte público, En el lugar de estudio" ,"En su casa o de familiares., En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos., En el lugar de estudio, En otros lugares", "En el transporte público" ,
view(base)
libro_codigos<- read.xlsx("base_antropologia_limpia.xlsx")
glimpse(base) rows147 columns60
names(base)
view(base)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
base <-janitor::clean_names(base)
base<- base %>% dplyr::rename(tipo_creencia = re_01,tipo_creencia  = re_01)
base <- base %>% dplyr::rename(lugar_musica = cm_05 , lugar_musica = cm_05)
# 03.2 observe las categorías de la variable lugar_musica, puede utilizar funciones como freq, table, unique, etc. (0.5 ptos)
unique(base$lugar_musica)
respuestas <- str_split(base$lugar_musica , "En el transporte público, En otros lugares""En su casa o de familiares., En el transporte público, En el lugar de estudio" ,"En su casa o de familiares., En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos., En el lugar de estudio, En otros lugares", "En el transporte público" ,
respuestas <- str_split(base$lugar_musica , "En el transporte público, En otros lugares""En su casa o de familiares, En el transporte público, En el lugar de estudio" ,"En su casa o de familiares, En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos, En el lugar de estudio, En otros lugares", "En el transporte público"
respuestas <- _____ (respuestas)
# 03.5 observe las respuestas con freq (1 pto)
____(____, prop=TRUE, order = "freq", report.nas = FALSE) %>%
respuestas <- str_split(base$lugar_musica, "En el transporte público, En otros lugares""En su casa o de familiares, En el transporte público, En el lugar de estudio" ,"En su casa o de familiares, En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos, En el lugar de estudio, En otros lugares", "En el transporte público"
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares""En su casa o de familiares,En el transporte público, En el lugar de estudio" ,"En su casa o de familiares, En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos, En el lugar de estudio, En otros lugares"
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares""En su casa o de familiares,En el transporte público, En el lugar de estudio" ,"En su casa o de familiares, En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos, En el lugar de estudio, En otros lugares"
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares""En su casa o de familiares,En el transporte público, En el lugar de estudio"
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares""En su casa o de familiares,En el transporte público, En el lugar de estudio"
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares""En su casa o de familiares,En el transporte público, En el lugar de estudio"
# 03.2 observe las categorías de la variable lugar_musica, puede utilizar funciones como freq, table, unique, etc. (0.5 ptos)
unique(base$lugar_musica)
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares"
"En su casa o de familiares., En el transporte público, En el lugar de estudio"
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares"
"En su casa o de familiares., En el transporte público, En el lugar de estudio"
respuestas <- str_split(base$lugar_musica,"En el transporte público, En otros lugares""En su casa o de familiares., En el transporte público, En el lugar de estudio""En su casa o de familiares., En el transporte público, En el lugar de estudio, En otros lugares""En su casa o de familiares., En casa de amigos., En el lugar de estudio, En otros lugares"
respuestas <- str_split(base$lugar_musica)
respuestas <- str_split(base$lugar_musica)
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
respuestas <- str_split(base$lugar_musica)
respuestas <- str_split(base$lugar_musica,",")
View(respuestas)
respuestas <- unlist(respuestas)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En el transporte público", "En el transporte público", respuestas)
respuestas <- gsub(" En otros lugares", "En otros lugares", respuestas) #(1 pto)
respuestas <- trimws(respuestas)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
amanda_baez <- freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
View(amanda_baez)
# 00. Carga de Paquetes --------------------------------------------------------
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
View(base)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
libro_codigos<- read.xlsx("base_antropologia_limpia.xlsx")
# 01.1 ¿cuántas filas y columnas tienen los datos? (0.5 ptos)
#(debe escribir código que entregue la información, no se aceptan respuestas sin código)
glimpse(base)
glimpse(base)
names(base)
view(base)
base<- janitor::clean_names(base)
#02. Renombrar variable
names(base)
base<- base %>% dplyr::rename(tipo_creencia = re_01 , afiliacion = re_02 , cuantas_veces = re_03 , asiste_si_no = re_04)
base<- base %>% dplyr::rename(influencia_oral = re_05)
base <-base %>% dplyr::rename(lugar_muscia = cm_05)
unique(base$lugar_muscia)
respuestas <- strsplit(base$lugar_muscia, ",")
table(base$lugar_muscia)
respuestas <- unlist(respuestas)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <-gsub("En el transporte público", "En el transporte público",  )
respuestas <-gsub("En el transporte público", "En el transporte público", respuestas)
respuestas <-gsub(" En otros lugares", "En otros lugares",respuestas)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
amanda_baez <- freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
View(amanda_baez)
unique(base$tipo_creencia)
table(base$tipo_creencia)
basea$tipo_creencia<- gsub(pattern = " ", replacement = "", x = base$tipo_creencia)
base$tipo_creencia <-gsub (pattern = " ", replacement = "", x = base$tipo_creencia)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>% mutate(tipo_creencia=case_when(tipo_creencia=="religion_rec")
TRUE~religion_rec))
TRUE~afiliacion)
TRUE~afiliacion))
TRUE ~ afiliacion))
table(base$afiliacion)
TRUE ~ afiliacion))
base <- base %>% mutate(tipo_creencia=case_when(afiliacion=case_when(afiliacion%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"Espiritualidad sin afiliación religiosa",
(afiliacion%in%c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"Religion especifica",
table(base$afiliacion)
table(base$afiliacion)
TRUE ~ afiliacion))
base <- base %>% mutate(to_01=case_when(to_01 %in% c("Bastante
tiempo.", "Suficiente tiempo.")~"Tiempo disponible",
to_01 %in% c("No tengo
tiempo.", "Poco tiempo.")~ "Tiempo limitado",
TRUE~to_01))
# Media (0.5 ptos)
mean_notas <- mean(base$notas_ultimo_semestre, na.rm = TRUE)
mean_notas <- mean(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
# Mediana (0.5 ptos)
mediana <-median(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
desviacion_e <-sd(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
varianza <- var(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
ggplot(base, aes(x=ea_04_notas_ultimo_semestre, y=afiliacion, fill=afiliacion))+
geom_boxplot(alpha=0.3) +
labs(title = "Promedio de notas según tipo de religión",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "afiliacion",
fill = "afiliacion")+
theme(legend.position="none")
theme(legend.position="none")
geom_boxplot(alpha=0.3) +
labs(title = "Promedio de notas según tipo de religión",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "ea_04_notas_ultimo_semestre,
fill = "afiliacion")+
ggplot(base, aes(x=afiliacion,y=ea_04_notas_ultimo_semestre
, fill=afiliacion))+ geom_boxplot(alpha=0.3) +
labs(title = "Promedio de notas según tipo de religión",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "ea_04_notas_ultimo_semestre,
fill = "afiliacion")+
ggplot(base, aes(x=afiliacion, y=ea_04_notas_ultimo_semestre, fill=afiliacionc)) +
geom_boxplot(alpha=0.3) +
labs(title = "Promedio de notas según tipo de religión",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "ea_04_notas_ultimo_semestre",
fill = "afiliacion")+
theme(legend.position="none")
ggplot(base, aes(x=afiliacion, y=ea_04_notas_ultimo_semestre, fill=afiliacionc)) +
geom_boxplot(alpha=0.3) +
labs(title = "Promedio de notas según tipo de religión",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "ea_04_notas_ultimo_semestre",
fill = "afiliacion")+
theme(legend.position="none")
ggplot(base, aes(x=afiliacion, y=ea_04_notas_ultimo_semestre, fill=afiliacion)) +
geom_boxplot(alpha=0.3) +
labs(title = "Promedio de notas según tipo de religión",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "ea_04_notas_ultimo_semestre",
fill = "afiliacion")+
theme(legend.position="none")
# 07.2 ea_04_notas_ultimo_semestre vs to_01 (3 ptos)
ggplot(base, aes(x=to_01, y=ea_04_notas_ultimo_semestre, fill=ea_04_notas_ultimo_semestre)) +
geom_boxplot(alpha=0.3) +
labs(title = "Notas último semestre según tiempo",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "ea_04_notas_ultimo_semestre",
fill = "ea_04_notas_ultimo_semestre")+
theme(legend.position="none")
ggplot(amanda_baez, aes(x = pct, y = fct_reorder(respuestas, pct), fill=respuestas)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "%")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
# 07.2 ea_04_notas_ultimo_semestre vs to_01 (3 ptos)
ggplot(base, aes(x=to_01, y=ea_04_notas_ultimo_semestre, fill=ea_04_notas_ultimo_semestre)) +
geom_boxplot(alpha=0.3) +
labs(title = "Notas último semestre según tiempo",
caption = "Fuente: Encuesta de Estudiantes UAH 2024",
y= "ea_04_notas_ultimo_semestre",
fill = "ea_04_notas_ultimo_semestre")+
theme(legend.position="none")
source("C:/Users/Amanda/Desktop/Prueba2. Baez, A/baez_prueba2/Prueba_2.R")
source("C:/Users/Amanda/Desktop/Prueba2. Baez, A/baez_prueba2/Prueba_2.R")
View(amanda_baez)
source("C:/Users/Amanda/Desktop/Prueba2. Baez, A/baez_prueba2/Prueba_2.R")
source("C:/Users/Amanda/Desktop/Prueba2. Baez, A/baez_prueba2/Prueba_2.R")
