library(readxl)
base_antropologia_limpia <- read_excel("base_antropologia_limpia.xlsx")
View(base_antropologia_limpia)
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
num_columnas <- nrow(base)
num_filas <- nrow(base)
num_columnas <- ncol(base)#(debe escribir código que entregue la información, no se aceptan respuestas sin código)
num_columnas <- ncol(base)#(debe escribir código que entregue la información, no se aceptan respuestas sin código)
#(debe escribir código que entregue la información, no se aceptan respuestas sin código)
libro_codigos<- read.xlsx("base_antropologia_limpia.xlsx")
num_filas <- nrow(base)
names(base)
library(dplyr)
respuestas <- strsplit(base$lugar_musica, ",")
respuestas <- unlist(respuestas)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- unlist(respuestas)
respuestas <- strsplit(base$lugar_musica, ",")
_m
base <- base %>% rename(lugar_musica=cm_05)
# 03.2 observe las categorías de la variable lugar_musica, puede utilizar funciones como freq, table, unique, etc. (0.5 ptos)
table(base$lugar_musica)
respuestas <- strsplit(base$lugar_musica, ",")
respuestas <- unlist(respuestas)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En el transporte público", "En el transporte público",  respuestas) #(1 pto)
respuestas <- gsub(" En otros lugares", "En otros lugares", respuestas) #(1 pto)
# 03.7 vuelva a observar sus respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
ramirez_antonia <-  freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
base <- base %<%
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
# Las nuevas 3 categorías
# 1. Espiritualidad sin afiliación religiosa:
- "No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)."
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
base <- base %<%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
base <- base %<%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
base <- base %<%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
base <- base %<%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
base <- base %<%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
base <- base %>%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
names(base)
base <- base %>% dplyr::rename(calificacion_creencias = re_01)
base <- base %>% dplyr::rename(afiliacion_religiosa = re_02)                               ______ = ______,
base <- base %>% dplyr::rename(asistencia_religiosa = re_04)
base <- base %>% dplyr::rename(calificacion_creencias = re_01)
base <- base %>%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
names(base)
base <- base %>% dplyr::rename(afiliacion_religiosa = re_02)
base <- base %>% dplyr::rename(frecuencia_religiosa = re_03)
base <- base %>%
mutate(afiliacion_religiosa_recodificada = case_when(
afiliacion_religiosa %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa %in% c("Ateo", "Agnóstico") ~ "No religioso",
afiliacion_religiosa == "Otra" ~ "Otra",
TRUE ~ afiliacion_religiosa))
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
table(base$afiliacion_religiosa_recodificada)
# Hint:  debe utilizar la función case_when()
base <- base %>%
mutate(religion_rec = case_when(
afiliacion_religiosa_recodificada %in% c("Católica", "Protestante") ~ "Cristiana",
re_02 %in% c("Budista", "Hinduista", "Taoísta") ~ "Otras religiones",
re_02 == "Agnóstico" ~ "Espiritual no religioso",
re_02 == "Ateo" ~ "No religioso",
TRUE ~ "Otro"))
# Hint:  debe utilizar la función case_when()
base <- base %>%
mutate(religion_rec = case_when(
afiliacion_religiosa_recodificada %in% c("Católica", "Protestante") ~ "Cristiana",
afiliacion_religiosa_recodificada %in% c("Budista", "Hinduista", "Taoísta") ~ "Otras religiones",
afiliacion_religiosa_recodificada == "Agnóstico" ~ "Espiritual no religioso",
afiliacion_religiosa_recodificada == "Ateo" ~ "No religioso",
TRUE ~ "Otro"))
base <- base %>%  mutate(religion_rec= case_when(afiliacion_religiosa_recodificada %in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"_ _ _ _",
afiliacion_religiosa_recodificada %in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"_ _ _ _",
afiliacion_religiosa_recodificada %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ") ~"_ _ _ _",
TRUE~)afiliacion_religiosa_recodificada)
base <- base %>%  mutate(religion_rec= case_when(religion_rec %in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"_ _ _ _",
religion_rec %in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"_ _ _ _",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ") ~"_ _ _ _",
TRUE~)religion_rec)
# 00. Carga de Paquetes --------------------------------------------------------
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
names(base)
base <- base %>% dplyr::rename(calificacion_creencias = re_01)
base <- base %>% dplyr::rename(afiliacion_religiosa = re_02)
base <- base %>% dplyr::rename(frecuencia_religiosa = re_03)
base <- base %>% dplyr::rename(asistencia_religiosa = re_04)
base <- base %>% rename(lugar_musica=cm_05)
# 03.2 observe las categorías de la variable lugar_musica, puede utilizar funciones como freq, table, unique, etc. (0.5 ptos)
table(base$lugar_musica)
respuestas <- strsplit(base$lugar_musica, ",")
respuestas <- unlist(respuestas)
# 03.5 observe las respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En el transporte público", "En el transporte público",  respuestas) #(1 pto)
respuestas <- gsub(" En otros lugares", "En otros lugares", respuestas) #(1 pto)
# 03.7 vuelva a observar sus respuestas con freq (1 pto)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
ramirez_antonia <-  freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
