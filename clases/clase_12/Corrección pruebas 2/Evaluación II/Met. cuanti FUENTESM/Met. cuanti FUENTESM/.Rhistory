pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
library(tidyverse)
library(openxlsx)
library(summarytools)
library(kableExtra)
library(webshot2)
library(chromote)
library(viridis)
library(hrbrthemes)
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
# 01.1 ¿cuántas filas y columnas tienen los datos? (0.5 ptos)
#(debe escribir código que entregue la información, no se aceptan respuestas sin código)
glimpse(base)
str(base)
summary(base)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
base <- base %>% dplyr::rename(ocio_y_dias = to_02,
Seleccion_actividad_ocio =to_04,
Pertenencia_agrupación_ocio= to_05,
importancia_activ_ocio = to_06)
names(base)
base <- base %>% rename(lugar_musica=cm_05)
names(base)
unique(base$lugar_musica)
base <- strsplit(base$lugar_musica, ",")
unique(base$lugar_musica)
unique(base$lugar_musica)
unique(base$lugar_musica)
lugar_musica <- strsplit(base$lugar_musica, ",")
names(base)
names(base)
View(base)
# 00. Carga de Paquetes --------------------------------------------------------
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
glimpse(base)
str(base)
summary(base)
view(base)
base <- base %>% dplyr::rename(ocio_y_dias = to_02,
Seleccion_actividad_ocio =to_04,
Pertenencia_agrupación_ocio= to_05,
importancia_activ_ocio = to_06)
base <- base %>% rename(lugar_musica=cm_05)
unique(base$lugar_musica)
lugar_musica <- strsplit(base$lugar_musica, ",")
lugar_musica <- unlist(lugar_musica)
# 03.5 observe las respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
lugar_musica <- gsub(" En el transporte público", "En el transporte público", lugar_musica ) #(1 pto)
unique(base$lugar_musica)
# 03.5 observe las respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
respuestas <- gsub(" En otros lugares", "En otros lugares", lugar_musica ) #(1 pto)
lugar_musica <- gsub(" En otros lugares", "En otros lugares", lugar_musica ) #(1 pto)
# 03.5 observe las respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
# 03.7 vuelva a observar sus respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
lugar_musica <-  freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
unique(base$re_02)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>% rename(lafiliación_religiosa=re_02
lafiliación_religiosa <- gsub("[·]", "", lafiliacion_religiosa)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>% rename(afiliación_religiosa=re_02)
afiliación_religiosa <- gsub("[·]", "", afiliacion_religiosa)
afiliación_religiosa <- gsub("[·]", "", afiliación_religiosa)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>% rename(afiliación_religiosa=re_02)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>% rename(afiliación_religiosa=lafiliacion_religiosa)
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
names(base)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>% rename(afiliacion_religiosa=afiliación_religiosa)
afiliacion_religiosa <- gsub("[·]", "", afiliacion_religiosa)
afiliacion_religiosa <- gsub("[·]", "", afiliacion_religiosa)
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
names(base)
afiliacion_religiosa <- gsub("[·]", "", afiliacion_religiosa)
afiliacion_religiosa<- trimws(afiliacion_religiosa)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>% rename(religion_rec=afiliacion_religiosa)
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
names(base)
religion_rec <- gsub("[·]", "", religion_rec)
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
names(base)
base <- religion_rec %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"_ _ _ _",
____ %in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"_ _ _ _",
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
# Las nuevas 3 categorías
religion_rec <- strsplit(base$religion_rec, ",")
religion_rec <- unlist(religion_rec)
catalina_fuentes <-  freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
religion_rec <- unlist(religion_rec)
base <- religion_rec %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"_ _ _ _",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"_ _ _ _",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ") ~"_ _ _ _",
TRUE~religion_rec))
# Utilice la siguiente estructura de código
unique(base$religion_rec)
base <- religion_rec %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ") ~"sin_religion",
TRUE~religion_rec))
religion_rec<-  freq(religion_rec, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
base <- religion_rec %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo") ~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo") ~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ") ~"sin_religion",
TRUE~religion_rec))
table(religion_rec)
base <- religion_rec %>%  mutate(religion_rec= case_when(religion_rec%in% c("Espiritualidad_sin_afiliación_religiosa")~"No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo",
religion_rec%in% c("religion_especifica")~"Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo",
religion_rec %in% c("sin_religion")~"Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ",
TRUE~religion_rec))
table(religion_rec)
base <- base %>% mutate(to_01=case_when(to_01 %in% c("Bastante tiempo.", "Suficiente tiempo.")~"tiempo_disponible",
to_01 %in% c("No tengo tiempo.", "Poco tiempo.")~ "tiempo_limitado",
TRUE~to_01))
base <- base %>% mutate(to_01=case_when(to_01 %in% c("Bastante tiempo.", "Suficiente tiempo.")~"tiempo_disponible",
to_01 %in% c("No tengo tiempo.", "Poco tiempo.")~ "tiempo_limitado",
TRUE~to_01))
base <- base %>% mutate(to_01=case_when(base %in% c("Bastante tiempo.", "Suficiente tiempo.")~"tiempo_disponible",
base %in% c("No tengo tiempo.", "Poco tiempo.")~ "tiempo_limitado",
TRUE~to_01))
base <- base %>% mutate(base=case_when(to_01%in% c("Bastante tiempo.", "Suficiente tiempo.")~"tiempo_disponible",
to_01 %in% c("No tengo tiempo.", "Poco tiempo.")~ "tiempo_limitado",
TRUE~to_01))
print(paste("Media:", media))
# Media (0.5 ptos)media <- mean(df$ea_04_notas_ultimo_semestre, na.rm = TRUE)
print(paste("Media:", media))
base <- base %>% mutate(base=case_when(to_01%in% c("Bastante tiempo.", "Suficiente tiempo.")~"tiempo_disponible",
to_01 %in% c("No tengo tiempo.", "Poco tiempo.")~ "tiempo_limitado",
TRUE~to_01))
# varianza (0.5 ptos)
mean_ea_04 <- mean(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
median_ea_04 <- median(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
sd_ea_04 <- sd(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
var_ea_04 <- var(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
ggplot(base, aes(x = Creencia_religiosa, y = ea_04_notas_ultimo_semestre, fill = Creencia_religiosa)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
ggplot(base, aes(x = religion_rec, y = ea_04_notas_ultimo_semestre, fill = Creencia_religiosa)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
ggplot(base, aes(x = religion_rec, y = ea_04_notas_ultimo_semestre, fill = Creencia_religiosa)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
ggplot(base, aes(x = religion_rec, y = ea_04_notas_ultimo_semestre, fill = religion_rec)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
ggplot(base, aes(x = religion_rec, y = ea_04, fill = religion_rec)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
notas_semestre<-  freq(ea_04_notas_ultimo_semestre, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
ggplot(base, aes(x = religion_rec, y = ea_04, fill = religion_rec)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
ggplot(base, aes(x = religion_rec, y = ea_04_notas_ultimo_semestre, fill = religion_rec)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
names(base)
# 00. Carga de Paquetes --------------------------------------------------------
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
base <- base %>% dplyr::rename(ocio_y_dias = to_02,
Seleccion_actividad_ocio =to_04,
Pertenencia_agrupación_ocio= to_05,
importancia_activ_ocio = to_06)
base <- base %>% rename(lugar_musica=cm_05)
lugar_musica <- strsplit(base$lugar_musica, ",")
lugar_musica <- unlist(lugar_musica)
# 03.5 observe las respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
lugar_musica <- gsub(" En el transporte público", "En el transporte público", lugar_musica ) #(1 pto)
lugar_musica <- gsub(" En otros lugares", "En otros lugares", lugar_musica ) #(1 pto)
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("Espiritualidad_sin_afiliación_religiosa")~"No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo",
religion_rec%in% c("religion_especifica")~"Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo",
religion_rec %in% c("sin_religion")~"Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ",
TRUE~religion_rec))
base <- base %>% mutate(to_01=case_when(to_01%in% c("Bastante tiempo.", "Suficiente tiempo.")~"tiempo_disponible",
to_01 %in% c("No tengo tiempo.", "Poco tiempo.")~ "tiempo_limitado",
TRUE~to_01))
# varianza (0.5 ptos)
mean_ea_04 <- mean(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
median_ea_04 <- median(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
sd_ea_04 <- sd(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
var_ea_04 <- var(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
names(base)
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("Espiritualidad_sin_afiliación_religiosa")~"No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo",
religion_rec%in% c("religion_especifica")~"Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo",
religion_rec %in% c("sin_religion")~"Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ",
TRUE~religion_rec))
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa"
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa"
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa"
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ")~"sin_religion",
TRUE~religion_rec))
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ")~"sin_religion",
TRUE~religion_rec))
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ")~"sin_religion",
TRUE~religion_rec))
table(religion_rec)
Tiene 60 columnas y 167 filas.
names(base)
base <- base %>% dplyr::rename(ocio_y_dias = to_02,
Seleccion_actividad_ocio =to_04,
Pertenencia_agrupación_ocio= to_05,
importancia_activ_ocio = to_06)
base <- base %>% rename(lugar_musica=cm_05)
lugar_musica <- unlist(lugar_musica)
# 03.5 observe las respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
lugar_musica <- gsub(" En el transporte público", "En el transporte público", lugar_musica ) #(1 pto)
lugar_musica <- gsub(" En otros lugares", "En otros lugares", lugar_musica ) #(1 pto)
# 03.7 vuelva a observar sus respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
lugar_musica<-  freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
catalina_fuentes <-  freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
lugar_musica <-  freq(catalina_fuentes, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
names(base)
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ")~"sin_religion",
TRUE~religion_rec))
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
names(base)
base <- base %>%dplyr::rename(religion_rec=re_02)
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ")~"sin_religion",
TRUE~religion_rec))
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
names(base)
str(base$religion_rec)
base <- base %>%  mutate(religion_rec= case_when(religion_rec%in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)","seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre", "deísmo")~"Espiritualidad_sin_afiliación_religiosa",
religion_rec%in% c("Catolico","Cristianismo Protestante (Evangélico, anglicano, etcétera)","Grecorromana ","Yoruba ","Ortodoxo")~"religion_especifica",
religion_rec %in% c("Pagana","Ateo","Agnóstico","No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria","Ninguno ")~"sin_religion",
TRUE~religion_rec))
table(religion_rec)
table(religion_rec)
str(base$religion_rec)
table(base$religion_rec)
base <- base %>% mutate(to_01=case_when(to_01%in% c("Bastante tiempo.", "Suficiente tiempo.")~"tiempo_disponible",
to_01 %in% c("No tengo tiempo.", "Poco tiempo.")~ "tiempo_limitado",
TRUE~to_01))
ggplot(base, aes(x = religion_rec, y = ea_04_notas_ultimo_semestre, fill = religion_rec)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Promedio de notas según tipo de religión",
y = "Promedio de notas último semestre",
fill = "Religión"
) +
theme_minimal()
names(base)
ggplot(base, aes(x = to_01, y = ea_04_notas_ultimo_semestre, fill = to_01)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Notas último semestre según tiempo disponible",
y = "Promedio de notas último semestre",
fill = "Tiempo"
) +
theme_minimal()
ggplot(base, aes(x = pct, y = fct_reorder(lugar_musica, pct), fill=lugar_musica)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "%")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
ggplot(base, aes(x = base, y = fct_reorder(lugar_musica, base), fill=lugar_musica)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "%")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
# 00. Carga de Paquetes --------------------------------------------------------
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
#(debe escribir código que entregue la información, no se aceptan respuestas sin código)
glimpse(base)
str(base)
summary(base)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base)
base <- base %>% dplyr::rename(ocio_y_dias = to_02,
Seleccion_actividad_ocio =to_04,
Pertenencia_agrupación_ocio= to_05,
importancia_activ_ocio = to_06)
names(base)
base <- base %>% rename(lugar_musica=cm_05)
names(base)
unique(base$lugar_musica)
lugar_musica <- unlist(lugar_musica)
# 03.5 observe las respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
lugar_musica <- gsub(" En el transporte público", "En el transporte público", lugar_musica ) #(1 pto)
lugar_musica <- gsub(" En otros lugares", "En otros lugares", lugar_musica ) #(1 pto)
# 03.7 vuelva a observar sus respuestas con freq (1 pto)
freq(lugar_musica, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
