pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes
pacman::p_load(tidyverse,
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
library(readxl)
base_antropologia_limpia <- read_excel("~/Prueba R 21/base_antropologia_limpia.xlsx")
View(base_antropologia_limpia)
View(base_antropologia_limpia)
names(base_antropologia)
names(base_antropologia)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
pacman::p_load(tidyverse,# Universo de paquetes : tidyr, dplyr, ggplot2,readr,purrr,tibble, stringr, forcats
openxlsx,#leer archivos xlsx
readxl,# leer archivos xl      #dos formatos de excel xlsx y xl
readr,
janitor,#limpieza de datos
writexl,#Guardar tablas formato excel
DataExplorer, #Exploración rápida
knitr,
summarytools,
webshot)
pacman::p_load(tidyverse,# Universo de paquetes : tidyr, dplyr, ggplot2,readr,purrr,tibble, stringr, forcats
openxlsx,#leer archivos xlsx
readxl,# leer archivos xl      #dos formatos de excel xlsx y xl
readr,
janitor,#limpieza de datos
writexl,#Guardar tablas formato excel
DataExplorer, #Exploración rápida
knitr,
summarytools,
webshot)
source("~/Prueba R 21/Prueba_2.R", echo=TRUE)
install.packages("pacman")
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)
pacman::p_load(tidyverse,
openxlsx,
readxl,
readr,
janitor,
writexl,
DataExplorer,
knitr,
summarytools,
webshot)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
source("~/Prueba R 21/Prueba_2.R", echo=TRUE)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
base <- read.xlsx("base_antropologia_limpia.xlsx")
install.packages("readxl")
base <- read.xlsx("base_antropologia_limpia.xlsx")
libro_codigos<- read.xlsx("base_antropologia_limpia.xlsx")
library(readxl)
base_antropologia_limpia <- read_excel("~/Prueba R 21/base_antropologia_limpia.xlsx")
View(base_antropologia_limpia)
library(readxl)
base_antropologia_limpia <- read_excel("~/Prueba R 21/base_antropologia_limpia.xlsx")
View(base_antropologia_limpia)
names(base_antropologia)
names(base_antropologia_limpia)
num_filas <- n(row(base))
num_columnas <-ncol(base)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
install.packages("pacman")
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
num_filas <- n(row(base))
num_filas<-nrow(base_antropologia_limpia)
num_filas<-nrow(base_antropologia_limpia)
num_columnas<-ncol(base_antropologia_limpia)
libro_codigos<- read.xlsx("base_antropologia_limpia.xlsx")
libro_codigos<-read_xlsx(base_antropologia_limpia)
libro_codigos<-read_xlsx(base_antropologia_limpia)
library(readxl)
libro_codigos<-read_xlsx(base_antropologia_limpia)
libro_codigos <- read_xlsx(base_antropologia_limpia)
library(readxl)
libro_codigos <- read_xlsx(base_antropologia_limpia)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
glimpse(base_antropologia)
View(base_antropologia_limpia)
libro_codigos<- read_xlsx(base_antropologia_limpia)
glimpse(base_antropologia)
# "RE_01 ¿Cómo califica su creencia de un ser supremo o deidades?"
unique(base_antropologia_limpia$re_01)
table(base_antropologia_limpia$re_01)
base_antropologia_limpia$re_01 <- tolower(base_antropologia_limpia$re_01)
base_antropologia_limpia$re_01 <- gsub(patern= "creencia firme", "creencia moderada", replacement = "creen", x= base_antropologia_limpia$re_01)
# Convertir la columna 're_01' a minúsculas
base_antropologia_limpia$re_01 <- tolower(base_antropologia_limpia$re_01)
# Reemplazar "creencia firme" por "creencia moderada"
base_antropologia_limpia$re_01 <- gsub(pattern = "creencia firme", replacement = "creencia", x = base_antropologia_limpia$re_01)
base_antropologia_limpia$re_01 <- gsub(pattern = "creencia moderada", replacement = "creencia", x = base_antropologia_limpia$re_01)
base_antropologia_limpia$re_01 <- gsub(pattern = "escéptico", replacement = "no creencias", x = base_antropologia_limpia$re_01)
# "RE_02 ¿Cuál es su afiliación religiosa o creencia espiritual? (Selecciona una opción)"
unique(base_antropologia_limpia$re_02)
table(base_antropologia_limpia$re_02)
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
glimpse(base_antropologia)
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
base_antropologia <- read.xlsx("base_antropologia_limpia.xlsx")
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
(base_antropologia)
num_filas<- nrow(base_antropologia)
num_columnas <- ncol(base_antropologia)
names(base_antropologia)
# Puede utilizar el siguiente formato
install.packages("dplyr")
library(dplyr)
base <- base %$%
dplyr::rename(calificacion_creencias=re_01)
base <- base %$%
dplyr::rename(afiliacon_religiosa= re_02)
base <- base %$%
dplyr::rename(frecuencia_religiosa= re_03)
base <- base %$%
dplyr::rename(calificacion_creencias=re_01)
View(base)
base <- base %$%
dplyr::rename(asistencia_religiosa=re_04)
base <- base %>% rename(Lugar_musica=cm_05)
table(base$Lugar_musica)
respuestas <- strsplit(base$Lugar_musica, ",")
respuestas <- unlist (respuestas)
freq(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
frequency(respuestas, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
frequency_respuestas <- frequency(respuestas, prop = TRUE, order = "freq", report.nas = FALSE)
respuestas <-gsub(" En el transporte público", "En el transporte público") #(1 pto)
respuestas <- ____(" En otros lugares", "En otros lugares", ______ ) #(1 pto)
respuestas <- gsub("^\\s+En el transporte público", "En el transporte público", respuestas)
respuestas <- gsub("^\\s+En otros lugares", "En otros lugares", respuestas)
# 03.5
freq <- frequency(respuestas, prop = TRUE, order = "freq", report.nas = FALSE)
freq(respuestas,prop=TRUE, order="freq", report.nas=FALSE)
Jabo <- freq(respuestas, prop=TRUE,order="freq",report.nas=FALSE) %$%
tb()
Jabo <- freq(respuestas, prop=TRUE,order="freq",report.nas=FALSE) %$%
tb()
Jabo <- freq(respuestas, prop=TRUE,order="freq",report.nas=FALSE) %$%
tb()
Javiera_herrera <- freq(respuestas, prop=TRUE,order="freq",report.nas=FALSE) %$%
tb()
- "No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías)."
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
table(base%afiliacion_religiosa)
base <- base %$%
dplyr::rename(frecuencia_religiosa= re_03)
# 04. Ahora recodifique la variable re_02 (¿Cuál es su afiliación religiosa o creencia espiritual?)
# 04.1 observe las categorías de respuesta de esta variable (0.5 pto)
table(base$re_02)
base <- base %>%
rename(calificacion_creencias = re_01) %>%
rename(afiliacion_religiosa = re_02) %>%
rename(frecuencia_religiosa = re_03) %>%
rename(asistencia_religiosa = re_04)
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>%
mutate(religion_rec=case_when(afiliacion_religiosa%$%
c("católica", "protestante")~"cristiana",
afiliacion_religiosa %$%
c("Budista", "Hinduista", "Taoísta")~"otras religiones",
afiliacion_religiosa== "Agnostico"~ "Espiritual no religioso".
# 04.2 recodifique las categorías de esta variable en una nueva variable denominada "religion_rec" de la siguiente forma (3 ptos)
# Hint:  debe utilizar la función case_when()
base <- base %>%
mutate(religion_rec=case_when(afiliacion_religiosa%$%
c("católica", "protestante")~"cristiana",
afiliacion_religiosa %$%
c("Budista", "Hinduista", "Taoísta")~"otras religiones",
afiliacion_religiosa== "Agnostico"~ "Espiritual no religioso".
library(dplyr)
base <- base %>%
mutate(religion_rec = case_when(
afiliacion_religiosa %in% c("católica", "protestante") ~ "cristiana",
afiliacion_religiosa %in% c("Budista", "Hinduista", "Taoísta") ~ "otras religiones",
afiliacion_religiosa == "Agnostico" ~ "Espiritual no religioso",
afiliacion_religiosa == "ateo" ~ "no religioso",
TRUE ~ "otro"
))
base <- base %>%
mutate(religion_rec = case_when(
afiliacion_religiosa %in% c("No tengo una afiliación religiosa, pero si me considero una persona espiritual (por ejemplo, creo en las energías).",
"seria en creer en alguien superior un tipo de energía que se interpreta de diversas formas en la religión pero no es alguien al cual se le pueda poner un nombre",
"deísmo") ~ "Espiritual no religioso",
afiliacion_religiosa %in% c("Catolico", "Cristianismo Protestante (Evangélico, anglicano, etcétera)", "Grecorromana ", "Yoruba ", "Ortodoxo") ~ "Cristiana",
afiliacion_religiosa %in% c("Pagana", "Ateo", "Agnóstico", "No tengo afiliaciones religiosas y tampoco me adscribo a ningún tipo de corriente de pensamiento de tipo clasificatoria", "Ninguno ") ~ "No religioso",
TRUE ~ "Otro"
))
base <- base %>%
mutate(to_01 = case_when(
columna_tiempo %in% c("Bastante tiempo.", "Suficiente tiempo.") ~ "Tiempo suficiente",
columna_tiempo %in% c("No tengo tiempo.", "Poco tiempo.") ~ "Falta de tiempo",
TRUE ~ columna_tiempo  # Otra opción no contemplada en las condiciones
))
View(base)
base <- base %>%
mutate(to_01 = case_when(
to_01 %in% c("Bastante tiempo.", "Suficiente tiempo.") ~ "Tiempo suficiente",
to_01%in% c("No tengo tiempo.", "Poco tiempo.") ~ "Falta de tiempo",
TRUE ~ columna_tiempo  # Otra opción no contemplada en las condiciones
))
base <- base %>%
mutate(to_01 = case_when(
to_01 %in% c("Bastante tiempo.", "Suficiente tiempo.") ~ "Tiempo suficiente",
to_01%in% c("No tengo tiempo.", "Poco tiempo.") ~ "Falta de tiempo",
TRUE ~ "otros"
))
# Media (0.5 ptos)
media <- mean(restudio$ea_04_notas_ultimo_semestre, na.rm = TRUE)
table(base$religion_rec)
# Mediana (0.5 ptos)
median_ea_04 <- median(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
# desviación estándar (0.5 ptos)
sd_ea_04 <- sd(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
# varianza (0.5 ptos)
var_ea_04 <- var(base$ea_04_notas_ultimo_semestre, na.rm = TRUE)
names(base)
ggplot(base, aes(x = to_01, y = ea_04_notas_ultimo_semestre, fill = to_01)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Notas último semestre según tiempo disponible",
y = "Promedio de notas último semestre",
fill = "Tiempo"
) +
theme_minimal()
ggplot(base, aes(x = to_01, y = ea_04_notas_ultimo_semestre, fill = to_01)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Notas último semestre según tiempo disponible",
y = "Promedio de notas último semestre",
fill = "Tiempo") +
theme_minimal()
library(ggplot2)
ggplot(base, aes(x = to_01, y = ea_04_notas_ultimo_semestre, fill = to_01)) +
geom_boxplot(alpha = 0.3) +
labs(
title = "Notas último semestre según tiempo disponible",
y = "Promedio de notas último semestre",
fill = "Tiempo"
) +
theme_minimal()
ggplot(base, aes(x = base, y = fct_reorder(lugar_musica, base), fill=lugar_musica)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024")+
geom_text(aes(label = paste0(round(pct, 1), "%")), #concatena porcentaje con un decimal y "%".
hjust = -0.1, size = 3, nudge_x = -.9, fontface= "bold")+
theme_ipsum()+
scale_fill_viridis_d(option = "C", guide = "none")
library(ggplot2)
library(scales)
ggplot(base, aes(x = fct_reorder(lugar_musica, base), y = ..count../sum(..count..), fill = lugar_musica)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(
title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024"
) +
geom_text(aes(label = percent(..count../sum(..count..))),
stat = "count",
vjust = -0.5,
size = 3,
fontface = "bold") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggplot(base, aes(x = fct_reorder(lugar_musica, base), y = ..count../sum(..count..), fill = lugar_musica)) +
geom_col() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("") + ylab("") +
labs(
title = "Lugares donde escuchan música",
subtitle = "Estudiantes de antropología",
caption = "Fuente: Encuesta Estudiantes Antropología 2024"
) +
geom_text(aes(label = percent(..count../sum(..count..))),
stat = "count",
vjust = -0.5,
size = 3,
fontface = "bold") +
scale_fill_viridis_d(option = "C", guide = "none") + Theoph
###         PRUEBA 2        ###
#                                       ***********Instrucciones************
# a. Ir a File y crear un Rproject denominelo: apellido_prueba2.Rproj, por ejemplo: "Ocampo_prueba2.Rproj"
# b. Guardar este script (prueba_2.R) y base de datos de la encuesta del curso (base_antropologia_limpia.xlsx) en la carpeta en que se encuentra su proyecto apellido_prueba2.Rproj
# c. Comenzar y desarrollar la prueba en este script.
# d. Al finalizar debe guardar este script en la carpeta donde se encuentra el proyecto denominado apellido_prueba2.Rproj,
# el script se debe denominar igual que el archivo del proyecto, es decir, apellido_prueba2.R (sólo cambia su extensión de .Rproject a .R)
# comprimir la carpeta del proyecto (esta carpeta debe contener al menos 3 archivos: apellido_prueba2.Rproj, apellido_prueba2.R y base_antropologia_limpia.xlsx)
# y enviarla a ginowrs@gmail.com y semunoz@uahurtado.cl Con el asunto: apellido prueba 2
# La prueba consta de 2 partes, la primera de desarrollo.
# Y la segunda de código en R.
# Mucha Suerte, que les vaya bien!!
#                                                 Primera parte
# Seleccione 3 de las siguientes 8 preguntas y responda debajo de la pregunta correspondiente,
# su respuesta debe ser clara y responder específicamente lo que se consulta, (mínimo un párrafo por respuesta, máximo 2). (6 ptos en total) cada pregunta tiene 2 ptos.
# 1. Describa la diferencia entre la hipótesis nula y la hipótesis alternativa en un contraste de hipótesis.
# En un contraste de hipótesis, la hipótesis nula (H₀) y la hipótesis alternativa (H₁) son proposiciones complementarias utilizadas para realizar pruebas estadísticas. La hipótesis nula representa una afirmación de no efecto o no diferencia, es decir, sostiene que cualquier diferencia observada en los datos es atribuible al azar. Por ejemplo, en un estudio clínico, la hipótesis nula podría afirmar que un nuevo medicamento no tiene efecto sobre una enfermedad en comparación con un placebo. Por otro lado, la hipótesis alternativa propone que existe un efecto o diferencia real, sugiriendo que las observaciones son el resultado de una causa específica más allá del azar. Siguiendo el ejemplo anterior, la hipótesis alternativa podría afirmar que el nuevo medicamento tiene un efecto significativo en el tratamiento de la enfermedad. En esencia, la hipótesis nula es el punto de partida que se somete a prueba, mientras que la hipótesis alternativa es la afirmación que se intenta demostrar mediante la evidencia estadística. La validación de cualquiera de estas hipótesis se realiza a través de pruebas estadísticas que determinan la probabilidad de que los datos observados hayan ocurrido bajo el supuesto de la hipótesis nula. Si esta probabilidad es suficientemente baja, se rechaza la hipótesis nula en favor de la hipótesis alternativa.
# 2. ¿cuál es la manera en que se debe interpretar el valor-p y cómo repercute este valor sobre la decisión acerca del contraste de hipótesis?
#   El valor-p es una medida utilizada en estadística para determinar la significancia de los resultados obtenidos en un contraste de hipótesis. Representa la probabilidad de obtener un resultado igual o más extremo que el observado, asumiendo que la hipótesis nula (H₀) es verdadera. En otras palabras, el valor-p indica cuán compatibles son los datos con la hipótesis nula. Un valor-p bajo sugiere que los datos observados son poco probables bajo el supuesto de que H₀ es cierta, lo que proporciona evidencia en contra de la hipótesis nula. Generalmente, se establece un nivel de significancia (α), comúnmente 0.05, como umbral para tomar decisiones. Si el valor-p es menor o igual a α, se rechaza la hipótesis nula en favor de la hipótesis alternativa (H₁), indicando que los resultados son estadísticamente significativos. Por el contrario, si el valor-p es mayor que α, no se rechaza la hipótesis nula, sugiriendo que no hay suficiente evidencia para soportar la hipótesis alternativa. En resumen, el valor-p ayuda a determinar si los resultados observados son suficientemente inusuales para cuestionar la hipótesis nula, influyendo directamente en la decisión de rechazar o no rechazar dicha hipótesis en el contexto del contraste de hipótesis.
# 3. Describa qué son los estadísticos de tendencia central, de 2 ejemplos de este tipo de estadísticos y cuáles son sus diferencias con respecto a las medidas de dispersión
# Los estadísticos de tendencia central son medidas que describen el punto central o típico de un conjunto de datos, proporcionando una idea de la ubicación central de los valores. Dos ejemplos de estos estadísticos son la media y la mediana. La media, o promedio, se calcula sumando todos los valores y dividiéndolos entre el número total de observaciones, proporcionando una medida del valor central considerando todos los datos. La mediana, en cambio, es el valor que divide el conjunto de datos en dos partes iguales, de modo que la mitad de los valores son menores y la otra mitad son mayores, siendo menos sensible a valores atípicos y sesgos en la distribución de los datos.
#Estas medidas de tendencia central difieren de las medidas de dispersión, que describen la variabilidad o el grado de dispersión de los datos alrededor del centro. Ejemplos de medidas de dispersión son la varianza y el rango. La varianza mide la media de las desviaciones al cuadrado de cada valor respecto a la media, proporcionando una idea de cuánto varían los valores en promedio. El rango, por otro lado, es la diferencia entre el valor máximo y el mínimo del conjunto de datos, indicando la extensión total de los valores. Mientras que los estadísticos de tendencia central se centran en identificar el valor representativo del conjunto de datos, las medidas de dispersión se enfocan en describir cuán extendidos o concentrados están los valores en torno a ese centro.
#                                                 Segunda parte
# Código en R
# 00. Carga de Paquetes --------------------------------------------------------
install.packages("pacman")
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
# 00. Carga de Paquetes --------------------------------------------------------
install.packages("pacman")
install.packages("pacman")
pacman::p_load(tidyverse,
openxlsx,
summarytools,
kableExtra,#Tablas elegantes
webshot2,#exportar tablas
chromote,
viridis, #temas de gráficos
hrbrthemes)#temas de gráficos
# 01. Cargar datos--------------------------------------------------------
base <- read.xlsx("base_antropologia_limpia.xlsx")
#02. Renombrar variables
#02.01: observe las variables de la base de datos con names(0.5)
names(base_antropologia)
library(dplyr)
base <- base %>% rename(Lugar_musica=cm_05)
table(base$Lugar_musica)
respuestas <- strsplit(base$Lugar_musica, ",")
respuestas <- unlist (respuestas)
# 03.5
freq <- frequency(respuestas, prop = TRUE, order = "freq", report.nas = FALSE)
# Reemplaza las respuestas con espacios precedentes utilizando la función gsub
respuestas <- gsub("^\\s+En el transporte público", "En el transporte público", respuestas)
respuestas <- gsub("^\\s+En otros lugares", "En otros lugares", respuestas)
freq(respuestas,prop=TRUE, order="freq", report.nas=FALSE)
Javiera_herrera <- freq(respuestas, prop=TRUE,order="freq",report.nas=FALSE) %$%
tb()
Javiera_herrera <- freq(respuestas, prop=TRUE,order="freq",report.nas=FALSE) %$%
tb()
